/* ============================================
   BUTTON SYSTEM - Furlong Pro Handicapping
   Standardized button styles using design tokens

   Usage:
   - .btn-base: Required base class for all buttons
   - Size modifiers: .btn-sm, .btn-md (default), .btn-lg
   - Variant modifiers: .btn-primary, .btn-secondary, .btn-ghost, .btn-danger, .btn-success, .btn-warning
   - State modifiers: [disabled], .btn-icon-only
   ============================================ */

/* ============================================
   PART 1: BUTTON BASE STYLES
   All buttons inherit these foundational styles
   ============================================ */

.btn-base {
  /* Typography */
  font-family: var(--font-sans);
  font-weight: var(--font-medium);
  font-variant-numeric: tabular-nums;
  line-height: 1;

  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);

  /* Box model */
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;

  /* Transitions */
  transition: var(--transition-fast);
  transition-property: background-color, color, border-color, box-shadow, transform, filter;

  /* Default to medium size */
  padding: var(--btn-md-padding-y) var(--btn-md-padding-x);
  font-size: var(--btn-md-font-size);
  min-height: var(--btn-md-min-height);

  /* Prevent text selection */
  user-select: none;

  /* Remove default button styles */
  background: none;
  -webkit-appearance: none;
  appearance: none;
}

/* Focus state - consistent across all variants */
.btn-base:focus {
  outline: none;
}

.btn-base:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

/* Active/pressed state */
.btn-base:active {
  transform: translateY(0);
}

/* Icon styling within buttons */
.btn-base .material-icons,
.btn-base .btn-icon {
  font-size: var(--btn-md-icon-size);
  line-height: 1;
  vertical-align: middle;
  color: inherit;
}

/* ============================================
   PART 2: BUTTON SIZES
   ============================================ */

/* Small (sm) */
.btn-sm {
  padding: var(--btn-sm-padding-y) var(--btn-sm-padding-x);
  font-size: var(--btn-sm-font-size);
  min-height: var(--btn-sm-min-height);
}

.btn-sm .material-icons,
.btn-sm .btn-icon {
  font-size: var(--btn-sm-icon-size);
}

/* Medium (md) - Default, explicitly defined for clarity */
.btn-md {
  padding: var(--btn-md-padding-y) var(--btn-md-padding-x);
  font-size: var(--btn-md-font-size);
  min-height: var(--btn-md-min-height);
}

.btn-md .material-icons,
.btn-md .btn-icon {
  font-size: var(--btn-md-icon-size);
}

/* Large (lg) */
.btn-lg {
  padding: var(--btn-lg-padding-y) var(--btn-lg-padding-x);
  font-size: var(--btn-lg-font-size);
  min-height: var(--btn-lg-min-height);
}

.btn-lg .material-icons,
.btn-lg .btn-icon {
  font-size: var(--btn-lg-icon-size);
}

/* ============================================
   PART 3: BUTTON VARIANTS
   ============================================ */

/* PRIMARY (filled accent) - Main call-to-action */
.btn-primary {
  background: var(--color-accent);
  color: white;
}

.btn-primary:hover {
  background: var(--color-accent-hover);
}

.btn-primary:active {
  filter: brightness(0.9);
}

.btn-primary:focus-visible {
  outline-color: var(--color-accent);
}

/* SECONDARY (outlined) - Alternative actions */
.btn-secondary {
  background: transparent;
  border: 1px solid var(--color-border-default);
  color: var(--color-text-secondary);
}

.btn-secondary:hover {
  background: var(--color-bg-hover);
  border-color: var(--color-border-strong);
  color: var(--color-text-primary);
}

.btn-secondary:active {
  background: var(--color-bg-active);
}

/* GHOST (minimal) - Subtle actions */
.btn-ghost {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
}

.btn-ghost:hover {
  background: var(--color-bg-hover);
  color: var(--color-text-primary);
}

.btn-ghost:active {
  background: var(--color-bg-active);
}

/* DANGER (destructive) - Delete, remove actions */
.btn-danger {
  background: var(--color-danger);
  color: white;
}

.btn-danger:hover {
  filter: brightness(1.1);
}

.btn-danger:active {
  filter: brightness(0.9);
}

.btn-danger:focus-visible {
  outline-color: var(--color-danger);
}

/* SUCCESS (positive) - Confirm, save actions */
.btn-success {
  background: var(--color-success);
  color: white;
}

.btn-success:hover {
  filter: brightness(1.1);
}

.btn-success:active {
  filter: brightness(0.9);
}

.btn-success:focus-visible {
  outline-color: var(--color-success);
}

/* WARNING (amber/orange) - Caution, attention needed */
.btn-warning {
  background: var(--color-warning);
  color: #000;
}

.btn-warning:hover {
  filter: brightness(1.1);
}

.btn-warning:active {
  filter: brightness(0.9);
}

.btn-warning:focus-visible {
  outline-color: var(--color-warning);
}

/* ============================================
   PART 4: DISABLED STATES
   Applied to all variants when disabled
   ============================================ */

.btn-base:disabled,
.btn-base[disabled],
.btn-base.btn-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* Ensure no hover effects on disabled buttons */
.btn-base:disabled:hover,
.btn-base[disabled]:hover,
.btn-base.btn-disabled:hover {
  transform: none;
  filter: none;
}

/* ============================================
   PART 5: ICON-ONLY BUTTONS
   Square aspect ratio for buttons with only icons
   ============================================ */

.btn-icon-only {
  padding: 0;
  aspect-ratio: 1;
}

.btn-icon-only.btn-sm {
  width: var(--btn-icon-only-sm);
  height: var(--btn-icon-only-sm);
  min-height: var(--btn-icon-only-sm);
}

.btn-icon-only.btn-md,
.btn-icon-only:not(.btn-sm):not(.btn-lg) {
  width: var(--btn-icon-only-md);
  height: var(--btn-icon-only-md);
  min-height: var(--btn-icon-only-md);
}

.btn-icon-only.btn-lg {
  width: var(--btn-icon-only-lg);
  height: var(--btn-icon-only-lg);
  min-height: var(--btn-icon-only-lg);
}

/* ============================================
   PART 6: TOGGLE BUTTON GROUP
   Connected button group for selection ($1, $2, $5, etc.)
   ============================================ */

.btn-toggle-group {
  display: flex;
  gap: 0;
  border-radius: var(--radius-sm);
  overflow: hidden;
  border: 1px solid var(--color-border-subtle);
}

.btn-toggle {
  /* Reset base button styles */
  padding: var(--btn-sm-padding-y) var(--btn-sm-padding-x);
  font-size: var(--btn-sm-font-size);
  font-family: var(--font-sans);
  font-weight: var(--font-medium);
  font-variant-numeric: tabular-nums;

  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;

  /* Appearance */
  background: var(--color-bg-surface);
  color: var(--color-text-secondary);
  border: none;
  border-right: 1px solid var(--color-border-subtle);
  cursor: pointer;

  /* Transitions */
  transition: var(--transition-fast);
  transition-property: background-color, color;

  /* Prevent text selection */
  user-select: none;
}

.btn-toggle:last-child {
  border-right: none;
}

.btn-toggle:hover:not(.btn-toggle--selected) {
  background: var(--color-bg-hover);
}

.btn-toggle--selected {
  background: var(--color-accent);
  color: white;
}

.btn-toggle:focus {
  outline: none;
}

.btn-toggle:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: -2px;
  z-index: 1;
}

/* ============================================
   PART 7: ACTION BAR CONTAINER
   Bottom action bar with navigation buttons
   ============================================ */

.action-bar {
  /* Layout */
  display: flex;
  align-items: center;
  gap: var(--space-2);

  /* Dimensions */
  height: 56px;
  padding: var(--space-2) var(--space-3);

  /* Appearance */
  background: var(--color-bg-surface);
  border-top: 1px solid var(--color-border-subtle);

  /* Positioning */
  position: sticky;
  bottom: 0;
  z-index: var(--z-dropdown);
}

.action-bar__left {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-shrink: 0;
}

.action-bar__center {
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
}

.action-bar__right {
  margin-left: auto;
  flex-shrink: 0;
}

.action-bar__track-name {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
}

.action-bar__date {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

.action-bar__separator {
  width: 1px;
  height: 24px;
  background: var(--color-border-subtle);
  margin: 0 var(--space-2);
}

/* ============================================
   PART 8: MODAL BUTTON STYLES
   Standard button styling for modals
   ============================================ */

.modal-btn-close {
  composes: btn-base;
  composes: btn-ghost;
  composes: btn-icon-only;
  composes: btn-md;
}

.modal-btn-primary {
  composes: btn-base;
  composes: btn-primary;
  composes: btn-md;
}

.modal-btn-secondary {
  composes: btn-base;
  composes: btn-secondary;
  composes: btn-md;
}

.modal-btn-cancel {
  composes: btn-base;
  composes: btn-ghost;
  composes: btn-md;
}

/* Modal footer button container */
.modal-footer-buttons {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--space-2);
  padding-top: var(--space-3);
  border-top: 1px solid var(--color-border-subtle);
  margin-top: var(--space-3);
}
